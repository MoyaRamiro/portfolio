<section id="contact" class="w-full border-t border-[#ffffff10] py-12">
  <div class="mx-auto max-w-5xl">
    <p class="shiny-sec mb-2 text-lg text-[var(--sec)]">
      Let's talk<p></p>
      <h2 class="mb-6 text-4xl font-medium text-[var(--white)] md:text-5xl">
        Contact
      </h2>
      <div class="grid grid-cols-1 gap-8 md:grid-cols-2">
        <div class="text-[var(--white-icon)]">
          <p class="mb-4">
            Have a question or a project in mind? Feel free to reach out.
          </p>
          <div class="flex items-center gap-2">
            <span>Location:</span>
            <span class="text-[var(--white)]">Argentina, Buenos Aires</span>
          </div>
        </div>

        <div>
          <form
            id="contact-form"
            action="https://formspree.io/f/mjkyewlw"
            method="POST"
            class="flex flex-col gap-4"
          >
            <input
              type="text"
              name="from_name"
              placeholder="Name"
              required
              class="rounded-lg border border-[var(--white-icon-tr)] bg-[#1414149c] px-4 py-2 text-[var(--white)] focus:outline-none focus:ring-2 focus:ring-[var(--sec)]"
            />
            <input
              type="email"
              name="reply_to"
              placeholder="Email"
              required
              class="rounded-lg border border-[var(--white-icon-tr)] bg-[#1414149c] px-4 py-2 text-[var(--white)] focus:outline-none focus:ring-2 focus:ring-[var(--sec)]"
            />
            <textarea
              name="message"
              placeholder="Message"
              rows="6"
              required
              class="resize-none rounded-lg border border-[var(--white-icon-tr)] bg-[#1414149c] px-4 py-2 text-[var(--white)] focus:outline-none focus:ring-2 focus:ring-[var(--sec)]"
            ></textarea>
            <button
              type="submit"
              class="rounded-lg border border-[var(--white-icon-tr)] bg-[var(--white-icon-tr)] px-4 py-2 text-[var(--white)] opacity-60 transition-opacity hover:bg-[var(--white-icon-tr)] hover:opacity-100"
            >
              Submit
            </button>
          </form>
          <div
            id="form-message"
            class="mt-4 hidden items-center justify-center text-lg text-[var(--white)]"
          >
            âœ… Thank you for your message!
          </div>
        </div>
      </div>
    </p>
  </div>

  <script type="module" is:inline>
    const form = document.getElementById("contact-form");
    const formMessage = document.getElementById("form-message");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      const formData = new FormData(form);

      try {
        const response = await fetch(form.action, {
          method: "POST",
          body: formData,
          headers: { Accept: "application/json" },
        });
        if (response.ok) {
          form.reset();
          form.style.display = "none";
          formMessage.classList.remove("hidden");
        } else {
          const data = await response.json();
          console.error("Error response:", data);
          alert("There was a problem sending your message.");
        }
      } catch (error) {
        console.error("Error:", error);
        alert("There was a problem sending your message.");
      }
    });
  </script>
</section>
